<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sport Club Corinthians Paulista</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="Metricas_jogadores.js" />
    <link
      rel="icon"
      href="Header_Footer/imgs/Corinthians-Logo.png"
      class="icon"
    />
  </head>

  <body onload="vetor()">
    <header class="header">
      <div class="container">
        <div class="container logo">
          <a href="index.html" class="a_index">
            <img src="Header_Footer/imgs/Corinthians-Logo.png" />
            <h1>Sport Club Corinthians Paulista</h1>
          </a>
        </div>
        <ul>
          <li>
            <a href="Historia/Historia.html">História</a>
          </li>
          <li><a href="Ingresso/Ingresso.html"> Ingressos</a></li>
          <li><a href="Idolos/Idolos.html">Idolos</a></li>
          <li><a href="Valores/Valores.html">Valores</a></li>
        </ul>
      </div>
    </header>
    <div class="pic-ctn">
      <img src="imgs/ronaldo gif.gif" class="pic" />
      <img src="imgs/socrates1.gif" class="pic" />
      <img src="imgs/basilio7.gif" class="pic" />
      <img src="imgs/marcelineocarioca3.gif" class="pic" />
      <img src="imgs/basilio7.gif" class="pic" />
      <div class="corimba1">
        <li class="text_banner1">Pelo</li>
        <li class="text_banner2">Corinthians</li>
        <li class="text_banner3">com</li>
        <li class="text_banner4">muito</li>
        <li class="text_banner5">amor.</li>
      </div>
    </div>

    <div class="container_bloco_2">
      <div class="corimba2">
        <h1 class="titulo_elenco">Elenco:</h1>
        <div class="div_btn">
          <button class="btn_prev" onclick="btn_prev()" id="btn_prev">
            <img src="imgs/icons8-duplo-para-a-esquerda-16.png" />
          </button>
          <button class="btn_next" onclick="btn_next()" id="btn_next">
            <img src="imgs/icons8-duplo-para-a-direita-16.png" />
          </button>
        </div>
        <div class="div_jogador">
          <div>
            <img
              class="img_elenco_cassio"
              src="imgs/Cassio.png"
              id="img_jogador"
            />
            <br />
            <div>
              <b class="nome_elenco" id="nome_jogador"> Cassio </b> <br />
              <span class="posicao_elenco"
                >Posição:
                <span id="posicao_jogador"> Goleiro </span>
              </span>
              <br />
              <span class="idade_elenco" id="idade_jogador">33 Anos</span>
            </div>
          </div>
          <div id="div_canvas">
            <canvas id="chart" class="grafico_jogador_cassio"></canvas>
          </div>
        </div>
      </div>
    </div>
    <footer class="footer">
      <div class="container">
        <div class="container logo">
          <h1>Sport Club Corinthians Paulista</h1>
        </div>

        <div class="container middle">
          <ul>
            <li>Informação</li>
            <li>Suporte</li>
            <li>Termos de uso</li>
          </ul>
        </div>

        <div class="container socials">
          <img src="imgs/instagram.png" alt="" />
          <img src="imgs/facebook.png" alt="" />
          <img src="imgs/linkedin.png" alt="" />
        </div>
      </div>
    </footer>
  </body>
</html>

<script>
  const firtData = {
    labels: ["Reflexo", "Chute", "Velocidade", "Posicionamento", "Passe"],
    datasets: [
      {
        label: "Habilidade",
        data: [82, 64, 57, 88, 70],
        fill: true,
        backgroundColor: "rgba(255, 194, 66, 0.6) ",
        borderColor: "#ffc242",
        pointBackgroundColor: "#ffc242",
        pointHoverBackgroundColor: "#fff",
        pointHoverBorderColor: "#ffc242",
      },
    ],
  };
  var config = {
    type: "radar",
    data: firtData,
    options: {
      plugins: {
        legend: {
          labels: {
            color: "white",
          },
        },
      },
      scales: {
        r: {
          max: 100,
          beginAtZero: true,
          angleLines: {
            color: "white",
          },
          grid: {
            color: "white",
          },
          pointLabels: {
            color: "white",
          },
          ticks: {
            display: false,
          },
        },
      },
      elements: {
        line: {
          borderWidth: 3,
        },
      },
    },
  };
  var chartData = new Chart(document.getElementById("chart"), config);

  var jogador = 0;

  function btn_prev() {
    if (jogador > 0) {
      jogador--;
      change_player();
    }
  }

  function btn_next() {
    if (jogador < 21) {
      jogador++;
      change_player();
    }
  }
  function change_player() {
    var labelsJogador = ["Drible", "Chute", "Velocidade", "Defesa", "Passe"];
    var labelsGoleiros = [
      "Reflexo",
      "Chute",
      "Velocidade",
      "Posicionamento",
      "Passe",
    ];

    switch (jogador) {
      case 0:
        nome_jogador.innerHTML = "Cassio";
        posicao_jogador.innerHTML = "Goleiro";
        idade_jogador.innerHTML = "33 anos";
        img_jogador.src = "imgs/Cassio.png";
        removeData(chartData);
        var data = [drible[0], chute[0], velocidade[0], defesa[0], passe[0]];
        addData(chartData, labelsGoleiros, data);
        break;
      case 1:
        nome_jogador.innerHTML = "Ivan";
        posicao_jogador.innerHTML = "Goleiro";
        idade_jogador.innerHTML = "25 anos";
        img_jogador.src = "imgs/Ivan.png";
        removeData(chartData);
        var data = [drible[1], chute[1], velocidade[1], defesa[1], passe[1]];
        addData(chartData, labelsGoleiros, data);
        break;
      case 2:
        nome_jogador.innerHTML = "M.Donelli";
        posicao_jogador.innerHTML = "Goleiro";
        idade_jogador.innerHTML = "20 anos";
        img_jogador.src = "imgs/Donelli.png";
        removeData(chartData);
        var data = [drible[2], chute[2], velocidade[2], defesa[2], passe[2]];
        addData(chartData, labelsGoleiros, data);
        break;
      case 3:
        nome_jogador.innerHTML = "Gil";
        posicao_jogador.innerHTML = "Zagueiro";
        idade_jogador.innerHTML = "34 anos";
        img_jogador.src = "imgs/Gil.png";
        removeData(chartData);
        var data = [drible[3], chute[3], velocidade[3], defesa[3], passe[3]];
        addData(chartData, labelsJogador, data);
        break;
      case 4:
        nome_jogador.innerHTML = "João Victor";
        posicao_jogador.innerHTML = "Zagueiro";
        idade_jogador.innerHTML = "23 anos";
        img_jogador.src = "imgs/Joao Vitor.png";
        removeData(chartData);
        var data = [drible[4], chute[4], velocidade[4], defesa[4], passe[4]];
        addData(chartData, labelsJogador, data);
        break;
      case 5:
        nome_jogador.innerHTML = "Raul Gustavo";
        posicao_jogador.innerHTML = "Zagueiro";
        idade_jogador.innerHTML = "23 anos";
        img_jogador.src = "imgs/r-gustavo.png";
        removeData(chartData);
        var data = [drible[5], chute[5], velocidade[5], defesa[5], passe[5]];
        addData(chartData, labelsJogador, data);
        break;
      case 6:
        nome_jogador.innerHTML = "Fagner";
        posicao_jogador.innerHTML = "Lateral";
        idade_jogador.innerHTML = "32 anos";
        img_jogador.src = "imgs/Fagner.png";
        removeData(chartData);
        var data = [drible[6], chute[6], velocidade[6], defesa[6], passe[6]];
        addData(chartData, labelsJogador, data);
        break;
      case 7:
        nome_jogador.innerHTML = "Fabio Santos";
        posicao_jogador.innerHTML = "Lateral";
        idade_jogador.innerHTML = "36 anos";
        img_jogador.src = "imgs/Fabio Santos.png";
        removeData(chartData);
        var data = [drible[7], chute[7], velocidade[7], defesa[7], passe[7]];
        addData(chartData, labelsJogador, data);
        break;
      case 8:
        nome_jogador.innerHTML = "Lucas Piton";
        posicao_jogador.innerHTML = "Lateral";
        idade_jogador.innerHTML = "21 anos";
        img_jogador.src = "imgs/piton.png";
        removeData(chartData);
        var data = [drible[8], chute[8], velocidade[8], defesa[8], passe[8]];
        addData(chartData, labelsJogador, data);
        break;
      case 9:
        nome_jogador.innerHTML = "Rafael Ramos";
        posicao_jogador.innerHTML = "Lateral";
        idade_jogador.innerHTML = "27 anos";
        img_jogador.src = "imgs/r-ramos.png";
        removeData(chartData);
        var data = [drible[9], chute[9], velocidade[9], defesa[9], passe[9]];
        addData(chartData, labelsJogador, data);
        break;
      case 10:
        nome_jogador.innerHTML = "Cantillo";
        posicao_jogador.innerHTML = "Volante";
        idade_jogador.innerHTML = "28 anos";
        img_jogador.src = "imgs/cantillo.png";
        removeData(chartData);
        var data = [drible[10], chute[10], velocidade[10], defesa[10], passe[10]];
        addData(chartData, labelsJogador, data);
        break;
      case 11:
        nome_jogador.innerHTML = "Du Queiroz";
        posicao_jogador.innerHTML = "Volante";
        idade_jogador.innerHTML = "22 anos";
        img_jogador.src = "imgs/du-queiroz.png";
        removeData(chartData);
        var data = [drible[11], chute[11], velocidade[11], defesa[11], passe[11]];
        addData(chartData, labelsJogador, data);
        break;
      case 12:
        nome_jogador.innerHTML = "Giuliano";
        posicao_jogador.innerHTML = "Meio-Campista";
        idade_jogador.innerHTML = "32 anos";
        img_jogador.src = "imgs/giuliano.png";
        removeData(chartData);
        var data = [drible[12], chute[12], velocidade[12], defesa[12], passe[12]];
        addData(chartData, labelsJogador, data);
        break;
      case 13:
        nome_jogador.innerHTML = "Maycon";
        posicao_jogador.innerHTML = "Volante";
        idade_jogador.innerHTML = "24 anos";
        img_jogador.src = "imgs/Maycon.png";
        removeData(chartData);
        var data = [drible[13], chute[13], velocidade[13], defesa[13], passe[13]];
        addData(chartData, labelsJogador, data);
        break;
      case 14:
        nome_jogador.innerHTML = "Paulinho";
        posicao_jogador.innerHTML = "Meio-Campista";
        idade_jogador.innerHTML = "33 anos";
        img_jogador.src = "imgs/Paulinho.png";
        removeData(chartData);
        var data = [drible[14], chute[14], velocidade[14], defesa[14], passe[14]];
        addData(chartData, labelsJogador, data);
        break;
      case 15:
        nome_jogador.innerHTML = "Renato Augusto";
        posicao_jogador.innerHTML = "Meio-Campista";
        idade_jogador.innerHTML = "34 anos";
        img_jogador.src = "imgs/Renato Augusto.png";
        removeData(chartData);
        var data = [drible[15], chute[15], velocidade[15], defesa[15], passe[15]];
        addData(chartData, labelsJogador, data);
        break;
      case 16:
        nome_jogador.innerHTML = "Adson";
        posicao_jogador.innerHTML = "Atacante";
        idade_jogador.innerHTML = "21 anos";
        img_jogador.src = "imgs/adson.png";
        removeData(chartData);
        var data = [drible[16], chute[16], velocidade[16], defesa[16], passe[16]];
        addData(chartData, labelsJogador, data);
        break;
      case 17:
        nome_jogador.innerHTML = "Gustavo Silva";
        posicao_jogador.innerHTML = "Atacante";
        idade_jogador.innerHTML = "24 anos";
        img_jogador.src = "imgs/g-silva.png";
        removeData(chartData);
        var data = [drible[17], chute[17], velocidade[17], defesa[17], passe[17]];
        addData(chartData, labelsJogador, data);
        break;
      case 18:
        nome_jogador.innerHTML = "Roger Guedes";
        posicao_jogador.innerHTML = "Atacante";
        idade_jogador.innerHTML = "25 anos";
        img_jogador.src = "imgs/Roger Guedes.png";
        removeData(chartData);
        var data = [drible[18], chute[18], velocidade[18], defesa[18], passe[18]];
        addData(chartData, labelsJogador, data);
        break;
      case 19:
        nome_jogador.innerHTML = "Jô";
        posicao_jogador.innerHTML = "Atacante";
        idade_jogador.innerHTML = "35 anos";
        img_jogador.src = "imgs/Jo.png";
        removeData(chartData);
        var data = [drible[19], chute[19], velocidade[19], defesa[19], passe[19]];
        addData(chartData, labelsJogador, data);
        break;
      case 20:
        nome_jogador.innerHTML = "Junior Moraes";
        posicao_jogador.innerHTML = "Atacante";
        idade_jogador.innerHTML = "35 anos";
        img_jogador.src = "imgs/j-moraes.png";
        removeData(chartData);
        var data = [drible[20], chute[20], velocidade[20], defesa[20], passe[20]];
        addData(chartData, labelsJogador, data);
        break;
      case 21:
        nome_jogador.innerHTML = "Willian";
        posicao_jogador.innerHTML = "Atacante";
        idade_jogador.innerHTML = "33 anos";
        img_jogador.src = "imgs/Willian.png";
        removeData(chartData);
        var data = [drible[21], chute[21], velocidade[21], defesa[21], passe[21]];
        addData(chartData, labelsJogador, data);
        break;
    }
  }

  function removeData(chart) {
    chart.data.labels.pop();
    chart.data.datasets.forEach((dataset) => {
      dataset.data.pop();
    });

    chart.update();
  }

  function addData(chart, labels, data) {
    console.log("DATA :", data);
    chart.data.labels = labels;
    chart.data.datasets.forEach((dataset) => {
      dataset.data = data;
    });
    console.log("DATASET:::: ", chart.data.datasets);
    chart.update();
  }

  var drible = [];
  var chute = [];
  var velocidade = [];
  var defesa = [];
  var passe = [];

  function vetor() {
    fetch("/usuarios/vetor", {
      method: "GET",
      headers: {
        "Content-Type": "application/json",
      },
    })
      .then(function (resposta) {
        console.log("ESTOU NO THEN DO vetor()!");

        if (resposta.ok) {
          console.log(resposta);

          resposta.json().then((resposta) => {
            console.log(resposta);
            console.log(JSON.stringify(resposta));

            for (var i = 0; i < resposta.length; i++) {
              var recebimentoDrible = resposta[i].Drible;
              var recebimentoChute = resposta[i].Chute;
              var recebimentoVelocidade = resposta[i].Velocidade;
              var recebimentoDefesa = resposta[i].Defesa;
              var recebimentoPasse = resposta[i].Passe;

              drible.push(recebimentoDrible);
              chute.push(recebimentoChute);
              velocidade.push(recebimentoVelocidade);
              defesa.push(recebimentoDefesa);
              passe.push(recebimentoPasse);
            }
          });
        } else {
          console.log("Houve um erro ao tentar realizar o vetor!");

          resposta.text().then((texto) => {
            console.error(texto);
          });
        }
      })
      .catch(function (erro) {
        console.log(erro);
      });
  }
</script>
